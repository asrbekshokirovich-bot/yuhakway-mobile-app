{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"../lib/errors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":16,"column":17,"index":922},"end":{"line":16,"column":41,"index":946}}],"key":"+GSAvg/CWfG2ifOQrWLkai/D9hY=","exportNames":["*"],"imports":1}},{"name":"./StreamDownloadBuilder","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":17,"column":48,"index":996},"end":{"line":17,"column":82,"index":1030}}],"key":"J2qh5zRhKrS/71C3urjbsL+bmGQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _classCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\").default;\n  var _createClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\").default;\n  var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n    function adopt(value) {\n      return value instanceof P ? value : new P(function (resolve) {\n        resolve(value);\n      });\n    }\n    return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function rejected(value) {\n        try {\n          step(generator[\"throw\"](value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function step(result) {\n        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n      }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n  };\n  var __importDefault = this && this.__importDefault || function (mod) {\n    return mod && mod.__esModule ? mod : {\n      \"default\": mod\n    };\n  };\n  var _a;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var errors_1 = require(_dependencyMap[2], \"../lib/errors\");\n  var StreamDownloadBuilder_1 = __importDefault(require(_dependencyMap[3], \"./StreamDownloadBuilder\"));\n  var BlobDownloadBuilder = /*#__PURE__*/function () {\n    function BlobDownloadBuilder(downloadFn, shouldThrowOnError) {\n      _classCallCheck(this, BlobDownloadBuilder);\n      this.downloadFn = downloadFn;\n      this.shouldThrowOnError = shouldThrowOnError;\n      this[_a] = 'BlobDownloadBuilder';\n      this.promise = null;\n    }\n    return _createClass(BlobDownloadBuilder, [{\n      key: \"asStream\",\n      value: function asStream() {\n        return new StreamDownloadBuilder_1.default(this.downloadFn, this.shouldThrowOnError);\n      }\n    }, {\n      key: \"then\",\n      value: function then(onfulfilled, onrejected) {\n        return this.getPromise().then(onfulfilled, onrejected);\n      }\n    }, {\n      key: \"catch\",\n      value: function _catch(onrejected) {\n        return this.getPromise().catch(onrejected);\n      }\n    }, {\n      key: \"finally\",\n      value: function _finally(onfinally) {\n        return this.getPromise().finally(onfinally);\n      }\n    }, {\n      key: \"getPromise\",\n      value: function getPromise() {\n        if (!this.promise) {\n          this.promise = this.execute();\n        }\n        return this.promise;\n      }\n    }, {\n      key: \"execute\",\n      value: function execute() {\n        return __awaiter(this, void 0, void 0, function* () {\n          try {\n            var result = yield this.downloadFn();\n            return {\n              data: yield result.blob(),\n              error: null\n            };\n          } catch (error) {\n            if (this.shouldThrowOnError) {\n              throw error;\n            }\n            if ((0, errors_1.isStorageError)(error)) {\n              return {\n                data: null,\n                error\n              };\n            }\n            throw error;\n          }\n        });\n      }\n    }]);\n  }();\n  _a = Symbol.toStringTag;\n  exports.default = BlobDownloadBuilder;\n});","lineCount":108,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_classCallCheck"],[4,21,1,13],[4,24,1,13,"require"],[4,31,1,13],[4,32,1,13,"_dependencyMap"],[4,46,1,13],[4,92,1,13,"default"],[4,99,1,13],[5,2,1,13],[5,6,1,13,"_createClass"],[5,18,1,13],[5,21,1,13,"require"],[5,28,1,13],[5,29,1,13,"_dependencyMap"],[5,43,1,13],[5,86,1,13,"default"],[5,93,1,13],[6,2,2,0],[6,6,2,4,"__awaiter"],[6,15,2,13],[6,18,2,17],[6,22,2,21],[6,26,2,25],[6,30,2,29],[6,31,2,30,"__awaiter"],[6,40,2,39],[6,44,2,44],[6,54,2,54,"thisArg"],[6,61,2,61],[6,63,2,63,"_arguments"],[6,73,2,73],[6,75,2,75,"P"],[6,76,2,76],[6,78,2,78,"generator"],[6,87,2,87],[6,89,2,89],[7,4,3,4],[7,13,3,13,"adopt"],[7,18,3,18,"adopt"],[7,19,3,19,"value"],[7,24,3,24],[7,26,3,26],[8,6,3,28],[8,13,3,35,"value"],[8,18,3,40],[8,30,3,52,"P"],[8,31,3,53],[8,34,3,56,"value"],[8,39,3,61],[8,42,3,64],[8,46,3,68,"P"],[8,47,3,69],[8,48,3,70],[8,58,3,80,"resolve"],[8,65,3,87],[8,67,3,89],[9,8,3,91,"resolve"],[9,15,3,98],[9,16,3,99,"value"],[9,21,3,104],[9,22,3,105],[10,6,3,107],[10,7,3,108],[10,8,3,109],[11,4,3,111],[12,4,4,4],[12,11,4,11],[12,16,4,16,"P"],[12,17,4,17],[12,22,4,22,"P"],[12,23,4,23],[12,26,4,26,"Promise"],[12,33,4,33],[12,34,4,34],[12,36,4,36],[12,46,4,46,"resolve"],[12,53,4,53],[12,55,4,55,"reject"],[12,61,4,61],[12,63,4,63],[13,6,5,8],[13,15,5,17,"fulfilled"],[13,24,5,26,"fulfilled"],[13,25,5,27,"value"],[13,30,5,32],[13,32,5,34],[14,8,5,36],[14,12,5,40],[15,10,5,42,"step"],[15,14,5,46],[15,15,5,47,"generator"],[15,24,5,56],[15,25,5,57,"next"],[15,29,5,61],[15,30,5,62,"value"],[15,35,5,67],[15,36,5,68],[15,37,5,69],[16,8,5,71],[16,9,5,72],[16,10,5,73],[16,17,5,80,"e"],[16,18,5,81],[16,20,5,83],[17,10,5,85,"reject"],[17,16,5,91],[17,17,5,92,"e"],[17,18,5,93],[17,19,5,94],[18,8,5,96],[19,6,5,98],[20,6,6,8],[20,15,6,17,"rejected"],[20,23,6,25,"rejected"],[20,24,6,26,"value"],[20,29,6,31],[20,31,6,33],[21,8,6,35],[21,12,6,39],[22,10,6,41,"step"],[22,14,6,45],[22,15,6,46,"generator"],[22,24,6,55],[22,25,6,56],[22,32,6,63],[22,33,6,64],[22,34,6,65,"value"],[22,39,6,70],[22,40,6,71],[22,41,6,72],[23,8,6,74],[23,9,6,75],[23,10,6,76],[23,17,6,83,"e"],[23,18,6,84],[23,20,6,86],[24,10,6,88,"reject"],[24,16,6,94],[24,17,6,95,"e"],[24,18,6,96],[24,19,6,97],[25,8,6,99],[26,6,6,101],[27,6,7,8],[27,15,7,17,"step"],[27,19,7,21,"step"],[27,20,7,22,"result"],[27,26,7,28],[27,28,7,30],[28,8,7,32,"result"],[28,14,7,38],[28,15,7,39,"done"],[28,19,7,43],[28,22,7,46,"resolve"],[28,29,7,53],[28,30,7,54,"result"],[28,36,7,60],[28,37,7,61,"value"],[28,42,7,66],[28,43,7,67],[28,46,7,70,"adopt"],[28,51,7,75],[28,52,7,76,"result"],[28,58,7,82],[28,59,7,83,"value"],[28,64,7,88],[28,65,7,89],[28,66,7,90,"then"],[28,70,7,94],[28,71,7,95,"fulfilled"],[28,80,7,104],[28,82,7,106,"rejected"],[28,90,7,114],[28,91,7,115],[29,6,7,117],[30,6,8,8,"step"],[30,10,8,12],[30,11,8,13],[30,12,8,14,"generator"],[30,21,8,23],[30,24,8,26,"generator"],[30,33,8,35],[30,34,8,36,"apply"],[30,39,8,41],[30,40,8,42,"thisArg"],[30,47,8,49],[30,49,8,51,"_arguments"],[30,59,8,61],[30,63,8,65],[30,65,8,67],[30,66,8,68],[30,68,8,70,"next"],[30,72,8,74],[30,73,8,75],[30,74,8,76],[30,75,8,77],[31,4,9,4],[31,5,9,5],[31,6,9,6],[32,2,10,0],[32,3,10,1],[33,2,11,0],[33,6,11,4,"__importDefault"],[33,21,11,19],[33,24,11,23],[33,28,11,27],[33,32,11,31],[33,36,11,35],[33,37,11,36,"__importDefault"],[33,52,11,51],[33,56,11,56],[33,66,11,66,"mod"],[33,69,11,69],[33,71,11,71],[34,4,12,4],[34,11,12,12,"mod"],[34,14,12,15],[34,18,12,19,"mod"],[34,21,12,22],[34,22,12,23,"__esModule"],[34,32,12,33],[34,35,12,37,"mod"],[34,38,12,40],[34,41,12,43],[35,6,12,45],[35,15,12,54],[35,17,12,56,"mod"],[36,4,12,60],[36,5,12,61],[37,2,13,0],[37,3,13,1],[38,2,14,0],[38,6,14,4,"_a"],[38,8,14,6],[39,2,15,0,"Object"],[39,8,15,6],[39,9,15,7,"defineProperty"],[39,23,15,21],[39,24,15,22,"exports"],[39,31,15,29],[39,33,15,31],[39,45,15,43],[39,47,15,45],[40,4,15,47,"value"],[40,9,15,52],[40,11,15,54],[41,2,15,59],[41,3,15,60],[41,4,15,61],[42,2,16,0],[42,6,16,6,"errors_1"],[42,14,16,14],[42,17,16,17,"require"],[42,24,16,24],[42,25,16,24,"_dependencyMap"],[42,39,16,24],[42,59,16,40],[42,60,16,41],[43,2,17,0],[43,6,17,6,"StreamDownloadBuilder_1"],[43,29,17,29],[43,32,17,32,"__importDefault"],[43,47,17,47],[43,48,17,48,"require"],[43,55,17,55],[43,56,17,55,"_dependencyMap"],[43,70,17,55],[43,100,17,81],[43,101,17,82],[43,102,17,83],[44,2,17,84],[44,6,18,6,"BlobDownloadBuilder"],[44,25,18,25],[45,4,19,4],[45,13,19,4,"BlobDownloadBuilder"],[45,33,19,16,"downloadFn"],[45,43,19,26],[45,45,19,28,"shouldThrowOnError"],[45,63,19,46],[45,65,19,48],[46,6,19,48,"_classCallCheck"],[46,21,19,48],[46,28,19,48,"BlobDownloadBuilder"],[46,47,19,48],[47,6,20,8],[47,10,20,12],[47,11,20,13,"downloadFn"],[47,21,20,23],[47,24,20,26,"downloadFn"],[47,34,20,36],[48,6,21,8],[48,10,21,12],[48,11,21,13,"shouldThrowOnError"],[48,29,21,31],[48,32,21,34,"shouldThrowOnError"],[48,50,21,52],[49,6,22,8],[49,10,22,12],[49,11,22,13,"_a"],[49,13,22,15],[49,14,22,16],[49,17,22,19],[49,38,22,40],[50,6,23,8],[50,10,23,12],[50,11,23,13,"promise"],[50,18,23,20],[50,21,23,23],[50,25,23,27],[51,4,24,4],[52,4,24,5],[52,11,24,5,"_createClass"],[52,23,24,5],[52,24,24,5,"BlobDownloadBuilder"],[52,43,24,5],[53,6,24,5,"key"],[53,9,24,5],[54,6,24,5,"value"],[54,11,24,5],[54,13,25,4],[54,22,25,4,"asStream"],[54,30,25,12,"asStream"],[54,31,25,12],[54,33,25,15],[55,8,26,8],[55,15,26,15],[55,19,26,19,"StreamDownloadBuilder_1"],[55,42,26,42],[55,43,26,43,"default"],[55,50,26,50],[55,51,26,51],[55,55,26,55],[55,56,26,56,"downloadFn"],[55,66,26,66],[55,68,26,68],[55,72,26,72],[55,73,26,73,"shouldThrowOnError"],[55,91,26,91],[55,92,26,92],[56,6,27,4],[57,4,27,5],[58,6,27,5,"key"],[58,9,27,5],[59,6,27,5,"value"],[59,11,27,5],[59,13,28,4],[59,22,28,4,"then"],[59,26,28,8,"then"],[59,27,28,9,"onfulfilled"],[59,38,28,20],[59,40,28,22,"onrejected"],[59,50,28,32],[59,52,28,34],[60,8,29,8],[60,15,29,15],[60,19,29,19],[60,20,29,20,"getPromise"],[60,30,29,30],[60,31,29,31],[60,32,29,32],[60,33,29,33,"then"],[60,37,29,37],[60,38,29,38,"onfulfilled"],[60,49,29,49],[60,51,29,51,"onrejected"],[60,61,29,61],[60,62,29,62],[61,6,30,4],[62,4,30,5],[63,6,30,5,"key"],[63,9,30,5],[64,6,30,5,"value"],[64,11,30,5],[64,13,31,4],[64,22,31,4,"catch"],[64,28,31,9,"catch"],[64,29,31,10,"onrejected"],[64,39,31,20],[64,41,31,22],[65,8,32,8],[65,15,32,15],[65,19,32,19],[65,20,32,20,"getPromise"],[65,30,32,30],[65,31,32,31],[65,32,32,32],[65,33,32,33,"catch"],[65,38,32,38],[65,39,32,39,"onrejected"],[65,49,32,49],[65,50,32,50],[66,6,33,4],[67,4,33,5],[68,6,33,5,"key"],[68,9,33,5],[69,6,33,5,"value"],[69,11,33,5],[69,13,34,4],[69,22,34,4,"finally"],[69,30,34,11,"finally"],[69,31,34,12,"onfinally"],[69,40,34,21],[69,42,34,23],[70,8,35,8],[70,15,35,15],[70,19,35,19],[70,20,35,20,"getPromise"],[70,30,35,30],[70,31,35,31],[70,32,35,32],[70,33,35,33,"finally"],[70,40,35,40],[70,41,35,41,"onfinally"],[70,50,35,50],[70,51,35,51],[71,6,36,4],[72,4,36,5],[73,6,36,5,"key"],[73,9,36,5],[74,6,36,5,"value"],[74,11,36,5],[74,13,37,4],[74,22,37,4,"getPromise"],[74,32,37,14,"getPromise"],[74,33,37,14],[74,35,37,17],[75,8,38,8],[75,12,38,12],[75,13,38,13],[75,17,38,17],[75,18,38,18,"promise"],[75,25,38,25],[75,27,38,27],[76,10,39,12],[76,14,39,16],[76,15,39,17,"promise"],[76,22,39,24],[76,25,39,27],[76,29,39,31],[76,30,39,32,"execute"],[76,37,39,39],[76,38,39,40],[76,39,39,41],[77,8,40,8],[78,8,41,8],[78,15,41,15],[78,19,41,19],[78,20,41,20,"promise"],[78,27,41,27],[79,6,42,4],[80,4,42,5],[81,6,42,5,"key"],[81,9,42,5],[82,6,42,5,"value"],[82,11,42,5],[82,13,43,4],[82,22,43,4,"execute"],[82,29,43,11,"execute"],[82,30,43,11],[82,32,43,14],[83,8,44,8],[83,15,44,15,"__awaiter"],[83,24,44,24],[83,25,44,25],[83,29,44,29],[83,31,44,31],[83,36,44,36],[83,37,44,37],[83,39,44,39],[83,44,44,44],[83,45,44,45],[83,47,44,47],[83,60,44,60],[84,10,45,12],[84,14,45,16],[85,12,46,16],[85,16,46,22,"result"],[85,22,46,28],[85,25,46,31],[85,31,46,37],[85,35,46,41],[85,36,46,42,"downloadFn"],[85,46,46,52],[85,47,46,53],[85,48,46,54],[86,12,47,16],[86,19,47,23],[87,14,48,20,"data"],[87,18,48,24],[87,20,48,26],[87,26,48,32,"result"],[87,32,48,38],[87,33,48,39,"blob"],[87,37,48,43],[87,38,48,44],[87,39,48,45],[88,14,49,20,"error"],[88,19,49,25],[88,21,49,27],[89,12,50,16],[89,13,50,17],[90,10,51,12],[90,11,51,13],[90,12,52,12],[90,19,52,19,"error"],[90,24,52,24],[90,26,52,26],[91,12,53,16],[91,16,53,20],[91,20,53,24],[91,21,53,25,"shouldThrowOnError"],[91,39,53,43],[91,41,53,45],[92,14,54,20],[92,20,54,26,"error"],[92,25,54,31],[93,12,55,16],[94,12,56,16],[94,16,56,20],[94,17,56,21],[94,18,56,22],[94,20,56,24,"errors_1"],[94,28,56,32],[94,29,56,33,"isStorageError"],[94,43,56,47],[94,45,56,49,"error"],[94,50,56,54],[94,51,56,55],[94,53,56,57],[95,14,57,20],[95,21,57,27],[96,16,57,29,"data"],[96,20,57,33],[96,22,57,35],[96,26,57,39],[97,16,57,41,"error"],[98,14,57,47],[98,15,57,48],[99,12,58,16],[100,12,59,16],[100,18,59,22,"error"],[100,23,59,27],[101,10,60,12],[102,8,61,8],[102,9,61,9],[102,10,61,10],[103,6,62,4],[104,4,62,5],[105,2,62,5],[106,2,64,0,"_a"],[106,4,64,2],[106,7,64,5,"Symbol"],[106,13,64,11],[106,14,64,12,"toStringTag"],[106,25,64,23],[107,2,65,0,"exports"],[107,9,65,7],[107,10,65,8,"default"],[107,17,65,15],[107,20,65,18,"BlobDownloadBuilder"],[107,39,65,37],[108,0,65,38],[108,3]],"functionMap":{"names":["<global>","<anonymous>","adopt","P$argument_0","fulfilled","rejected","step","BlobDownloadBuilder","constructor","asStream","then","_catch","_finally","getPromise","execute","__awaiter$argument_3"],"mappings":"AAA;4CCC;ICC,kEC,sCD,ID;QGE,2FH;QIC,8FJ;QKC,8GL;CDG;wDCC;CDE;AOK;ICC;KDK;IEC;KFE;IGC;KHE;IIC;KJE;IKC;KLE;IMC;KNK;IOC;+CCC;SDiB;KPC;CPC"},"hasCjsExports":true},"type":"js/module"}]}