{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":134},"end":{"line":3,"column":43,"index":177}}],"key":"phU7YuntQKgoAYKWKHVlsIL7LCY=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _libSupabase = require(_dependencyMap[1], \"../lib/supabase\");\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [session, setSession] = (0, _react.useState)(null);\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      // Get initial session\n      _libSupabase.supabase.auth.getSession().then(({\n        data: {\n          session\n        }\n      }) => {\n        setSession(session);\n        setUser(session?.user ?? null);\n        setLoading(false);\n      });\n\n      // Listen for auth changes\n      const {\n        data: {\n          subscription\n        }\n      } = _libSupabase.supabase.auth.onAuthStateChange((_event, session) => {\n        setSession(session);\n        setUser(session?.user ?? null);\n      });\n      return () => subscription.unsubscribe();\n    }, []);\n    const signIn = async (email, password) => {\n      const {\n        error\n      } = await _libSupabase.supabase.auth.signInWithPassword({\n        email,\n        password\n      });\n      if (error) throw error;\n    };\n    const signUp = async (email, password, fullName) => {\n      try {\n        const {\n          data,\n          error\n        } = await _libSupabase.supabase.auth.signUp({\n          email,\n          password,\n          options: {\n            data: {\n              full_name: fullName\n            },\n            emailRedirectTo: undefined\n          }\n        });\n        console.log('Signup response:', {\n          data,\n          error\n        });\n        if (error) throw error;\n\n        // Check if session exists (auto-confirmed) or if confirmation is needed\n        if (data.session) {\n          console.log('Session created immediately, user auto-confirmed');\n          setSession(data.session);\n          setUser(data.user);\n        } else if (data.user && !data.session) {\n          // User created but needs confirmation\n          console.log('User created, but confirmation may be required');\n          // Try to sign in immediately\n          const {\n            data: signInData,\n            error: signInError\n          } = await _libSupabase.supabase.auth.signInWithPassword({\n            email,\n            password\n          });\n          if (signInError) {\n            console.error('Auto sign-in error:', signInError);\n            throw new Error('Account created but auto-login failed. Please try logging in manually.');\n          }\n          if (signInData.session) {\n            setSession(signInData.session);\n            setUser(signInData.user);\n          }\n        }\n      } catch (error) {\n        console.error('Signup error:', error);\n        throw error;\n      }\n    };\n    const signOut = async () => {\n      const {\n        error\n      } = await _libSupabase.supabase.auth.signOut();\n      if (error) throw error;\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        session,\n        user,\n        loading,\n        signIn,\n        signUp,\n        signOut\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"OmtWNs1wmtvVriGCMVMhIptcvUQ=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":151,"map":[[10,2,16,0,"Object"],[10,8,16,0],[10,9,16,0,"defineProperty"],[10,23,16,0],[10,24,16,0,"exports"],[10,31,16,0],[11,4,16,0,"enumerable"],[11,14,16,0],[12,4,16,0,"get"],[12,7,16,0],[12,18,16,0,"get"],[12,19,16,0],[13,6,16,0],[13,13,16,0,"AuthProvider"],[13,25,16,0],[14,4,16,0],[15,2,16,0],[16,2,102,0,"Object"],[16,8,102,0],[16,9,102,0,"defineProperty"],[16,23,102,0],[16,24,102,0,"exports"],[16,31,102,0],[17,4,102,0,"enumerable"],[17,14,102,0],[18,4,102,0,"get"],[18,7,102,0],[18,18,102,0,"get"],[18,19,102,0],[19,6,102,0],[19,13,102,0,"useAuth"],[19,20,102,0],[20,4,102,0],[21,2,102,0],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,3,0],[23,6,3,0,"_libSupabase"],[23,18,3,0],[23,21,3,0,"require"],[23,28,3,0],[23,29,3,0,"_dependencyMap"],[23,43,3,0],[24,2,3,43],[24,6,3,43,"_reactJsxDevRuntime"],[24,25,3,43],[24,28,3,43,"require"],[24,35,3,43],[24,36,3,43,"_dependencyMap"],[24,50,3,43],[25,2,14,0],[25,8,14,6,"AuthContext"],[25,19,14,17],[25,35,14,20],[25,39,14,20,"createContext"],[25,45,14,33],[25,46,14,33,"createContext"],[25,59,14,33],[25,61,14,63,"undefined"],[25,70,14,72],[25,71,14,73],[26,2,16,7],[26,8,16,13,"AuthProvider"],[26,20,16,66],[26,23,16,69,"AuthProvider"],[26,24,16,70],[27,4,16,72,"children"],[28,2,16,81],[28,3,16,82],[28,8,16,87],[29,4,16,87,"_s"],[29,6,16,87],[30,4,17,2],[30,10,17,8],[30,11,17,9,"session"],[30,18,17,16],[30,20,17,18,"setSession"],[30,30,17,28],[30,31,17,29],[30,34,17,32],[30,38,17,32,"useState"],[30,44,17,40],[30,45,17,40,"useState"],[30,53,17,40],[30,55,17,57],[30,59,17,61],[30,60,17,62],[31,4,18,2],[31,10,18,8],[31,11,18,9,"user"],[31,15,18,13],[31,17,18,15,"setUser"],[31,24,18,22],[31,25,18,23],[31,28,18,26],[31,32,18,26,"useState"],[31,38,18,34],[31,39,18,34,"useState"],[31,47,18,34],[31,49,18,48],[31,53,18,52],[31,54,18,53],[32,4,19,2],[32,10,19,8],[32,11,19,9,"loading"],[32,18,19,16],[32,20,19,18,"setLoading"],[32,30,19,28],[32,31,19,29],[32,34,19,32],[32,38,19,32,"useState"],[32,44,19,40],[32,45,19,40,"useState"],[32,53,19,40],[32,55,19,41],[32,59,19,45],[32,60,19,46],[33,4,21,2],[33,8,21,2,"useEffect"],[33,14,21,11],[33,15,21,11,"useEffect"],[33,24,21,11],[33,26,21,12],[33,32,21,18],[34,6,22,4],[35,6,23,4,"supabase"],[35,18,23,12],[35,19,23,12,"supabase"],[35,27,23,12],[35,28,23,13,"auth"],[35,32,23,17],[35,33,23,18,"getSession"],[35,43,23,28],[35,44,23,29],[35,45,23,30],[35,46,23,31,"then"],[35,50,23,35],[35,51,23,36],[35,52,23,37],[36,8,23,39,"data"],[36,12,23,43],[36,14,23,45],[37,10,23,47,"session"],[38,8,23,55],[39,6,23,57],[39,7,23,58],[39,12,23,63],[40,8,24,6,"setSession"],[40,18,24,16],[40,19,24,17,"session"],[40,26,24,24],[40,27,24,25],[41,8,25,6,"setUser"],[41,15,25,13],[41,16,25,14,"session"],[41,23,25,21],[41,25,25,23,"user"],[41,29,25,27],[41,33,25,31],[41,37,25,35],[41,38,25,36],[42,8,26,6,"setLoading"],[42,18,26,16],[42,19,26,17],[42,24,26,22],[42,25,26,23],[43,6,27,4],[43,7,27,5],[43,8,27,6],[45,6,29,4],[46,6,30,4],[46,12,30,10],[47,8,30,12,"data"],[47,12,30,16],[47,14,30,18],[48,10,30,20,"subscription"],[49,8,30,33],[50,6,30,35],[50,7,30,36],[50,10,30,39,"supabase"],[50,22,30,47],[50,23,30,47,"supabase"],[50,31,30,47],[50,32,30,48,"auth"],[50,36,30,52],[50,37,30,53,"onAuthStateChange"],[50,54,30,70],[50,55,30,71],[50,56,30,72,"_event"],[50,62,30,78],[50,64,30,80,"session"],[50,71,30,87],[50,76,30,92],[51,8,31,6,"setSession"],[51,18,31,16],[51,19,31,17,"session"],[51,26,31,24],[51,27,31,25],[52,8,32,6,"setUser"],[52,15,32,13],[52,16,32,14,"session"],[52,23,32,21],[52,25,32,23,"user"],[52,29,32,27],[52,33,32,31],[52,37,32,35],[52,38,32,36],[53,6,33,4],[53,7,33,5],[53,8,33,6],[54,6,35,4],[54,13,35,11],[54,19,35,17,"subscription"],[54,31,35,29],[54,32,35,30,"unsubscribe"],[54,43,35,41],[54,44,35,42],[54,45,35,43],[55,4,36,2],[55,5,36,3],[55,7,36,5],[55,9,36,7],[55,10,36,8],[56,4,38,2],[56,10,38,8,"signIn"],[56,16,38,14],[56,19,38,17],[56,25,38,17,"signIn"],[56,26,38,24,"email"],[56,31,38,37],[56,33,38,39,"password"],[56,41,38,55],[56,46,38,60],[57,6,39,4],[57,12,39,10],[58,8,39,12,"error"],[59,6,39,18],[59,7,39,19],[59,10,39,22],[59,16,39,28,"supabase"],[59,28,39,36],[59,29,39,36,"supabase"],[59,37,39,36],[59,38,39,37,"auth"],[59,42,39,41],[59,43,39,42,"signInWithPassword"],[59,61,39,60],[59,62,39,61],[60,8,39,63,"email"],[60,13,39,68],[61,8,39,70,"password"],[62,6,39,79],[62,7,39,80],[62,8,39,81],[63,6,40,4],[63,10,40,8,"error"],[63,15,40,13],[63,17,40,15],[63,23,40,21,"error"],[63,28,40,26],[64,4,41,2],[64,5,41,3],[65,4,43,2],[65,10,43,8,"signUp"],[65,16,43,14],[65,19,43,17],[65,25,43,17,"signUp"],[65,26,43,24,"email"],[65,31,43,37],[65,33,43,39,"password"],[65,41,43,55],[65,43,43,57,"fullName"],[65,51,43,73],[65,56,43,78],[66,6,44,4],[66,10,44,8],[67,8,45,6],[67,14,45,12],[68,10,45,14,"data"],[68,14,45,18],[69,10,45,20,"error"],[70,8,45,26],[70,9,45,27],[70,12,45,30],[70,18,45,36,"supabase"],[70,30,45,44],[70,31,45,44,"supabase"],[70,39,45,44],[70,40,45,45,"auth"],[70,44,45,49],[70,45,45,50,"signUp"],[70,51,45,56],[70,52,45,57],[71,10,46,8,"email"],[71,15,46,13],[72,10,47,8,"password"],[72,18,47,16],[73,10,48,8,"options"],[73,17,48,15],[73,19,48,17],[74,12,49,10,"data"],[74,16,49,14],[74,18,49,16],[75,14,50,12,"full_name"],[75,23,50,21],[75,25,50,23,"fullName"],[76,12,51,10],[76,13,51,11],[77,12,52,10,"emailRedirectTo"],[77,27,52,25],[77,29,52,27,"undefined"],[78,10,53,8],[79,8,54,6],[79,9,54,7],[79,10,54,8],[80,8,56,6,"console"],[80,15,56,13],[80,16,56,14,"log"],[80,19,56,17],[80,20,56,18],[80,38,56,36],[80,40,56,38],[81,10,56,40,"data"],[81,14,56,44],[82,10,56,46,"error"],[83,8,56,52],[83,9,56,53],[83,10,56,54],[84,8,58,6],[84,12,58,10,"error"],[84,17,58,15],[84,19,58,17],[84,25,58,23,"error"],[84,30,58,28],[86,8,60,6],[87,8,61,6],[87,12,61,10,"data"],[87,16,61,14],[87,17,61,15,"session"],[87,24,61,22],[87,26,61,24],[88,10,62,8,"console"],[88,17,62,15],[88,18,62,16,"log"],[88,21,62,19],[88,22,62,20],[88,72,62,70],[88,73,62,71],[89,10,63,8,"setSession"],[89,20,63,18],[89,21,63,19,"data"],[89,25,63,23],[89,26,63,24,"session"],[89,33,63,31],[89,34,63,32],[90,10,64,8,"setUser"],[90,17,64,15],[90,18,64,16,"data"],[90,22,64,20],[90,23,64,21,"user"],[90,27,64,25],[90,28,64,26],[91,8,65,6],[91,9,65,7],[91,15,65,13],[91,19,65,17,"data"],[91,23,65,21],[91,24,65,22,"user"],[91,28,65,26],[91,32,65,30],[91,33,65,31,"data"],[91,37,65,35],[91,38,65,36,"session"],[91,45,65,43],[91,47,65,45],[92,10,66,8],[93,10,67,8,"console"],[93,17,67,15],[93,18,67,16,"log"],[93,21,67,19],[93,22,67,20],[93,70,67,68],[93,71,67,69],[94,10,68,8],[95,10,69,8],[95,16,69,14],[96,12,69,16,"data"],[96,16,69,20],[96,18,69,22,"signInData"],[96,28,69,32],[97,12,69,34,"error"],[97,17,69,39],[97,19,69,41,"signInError"],[98,10,69,53],[98,11,69,54],[98,14,69,57],[98,20,69,63,"supabase"],[98,32,69,71],[98,33,69,71,"supabase"],[98,41,69,71],[98,42,69,72,"auth"],[98,46,69,76],[98,47,69,77,"signInWithPassword"],[98,65,69,95],[98,66,69,96],[99,12,70,10,"email"],[99,17,70,15],[100,12,71,10,"password"],[101,10,72,8],[101,11,72,9],[101,12,72,10],[102,10,74,8],[102,14,74,12,"signInError"],[102,25,74,23],[102,27,74,25],[103,12,75,10,"console"],[103,19,75,17],[103,20,75,18,"error"],[103,25,75,23],[103,26,75,24],[103,47,75,45],[103,49,75,47,"signInError"],[103,60,75,58],[103,61,75,59],[104,12,76,10],[104,18,76,16],[104,22,76,20,"Error"],[104,27,76,25],[104,28,76,26],[104,100,76,98],[104,101,76,99],[105,10,77,8],[106,10,79,8],[106,14,79,12,"signInData"],[106,24,79,22],[106,25,79,23,"session"],[106,32,79,30],[106,34,79,32],[107,12,80,10,"setSession"],[107,22,80,20],[107,23,80,21,"signInData"],[107,33,80,31],[107,34,80,32,"session"],[107,41,80,39],[107,42,80,40],[108,12,81,10,"setUser"],[108,19,81,17],[108,20,81,18,"signInData"],[108,30,81,28],[108,31,81,29,"user"],[108,35,81,33],[108,36,81,34],[109,10,82,8],[110,8,83,6],[111,6,84,4],[111,7,84,5],[111,8,84,6],[111,15,84,13,"error"],[111,20,84,18],[111,22,84,20],[112,8,85,6,"console"],[112,15,85,13],[112,16,85,14,"error"],[112,21,85,19],[112,22,85,20],[112,37,85,35],[112,39,85,37,"error"],[112,44,85,42],[112,45,85,43],[113,8,86,6],[113,14,86,12,"error"],[113,19,86,17],[114,6,87,4],[115,4,88,2],[115,5,88,3],[116,4,90,2],[116,10,90,8,"signOut"],[116,17,90,15],[116,20,90,18],[116,26,90,18,"signOut"],[116,27,90,18],[116,32,90,30],[117,6,91,4],[117,12,91,10],[118,8,91,12,"error"],[119,6,91,18],[119,7,91,19],[119,10,91,22],[119,16,91,28,"supabase"],[119,28,91,36],[119,29,91,36,"supabase"],[119,37,91,36],[119,38,91,37,"auth"],[119,42,91,41],[119,43,91,42,"signOut"],[119,50,91,49],[119,51,91,50],[119,52,91,51],[120,6,92,4],[120,10,92,8,"error"],[120,15,92,13],[120,17,92,15],[120,23,92,21,"error"],[120,28,92,26],[121,4,93,2],[121,5,93,3],[122,4,95,2],[122,24,96,4],[122,28,96,4,"_reactJsxDevRuntime"],[122,47,96,4],[122,48,96,4,"jsxDEV"],[122,54,96,4],[122,56,96,5,"AuthContext"],[122,67,96,16],[122,68,96,17,"Provider"],[122,76,96,25],[123,6,96,26,"value"],[123,11,96,31],[123,13,96,33],[124,8,96,35,"session"],[124,15,96,42],[125,8,96,44,"user"],[125,12,96,48],[126,8,96,50,"loading"],[126,15,96,57],[127,8,96,59,"signIn"],[127,14,96,65],[128,8,96,67,"signUp"],[128,14,96,73],[129,8,96,75,"signOut"],[130,6,96,83],[130,7,96,85],[131,6,96,85,"children"],[131,14,96,85],[131,16,97,7,"children"],[132,4,97,15],[133,6,97,15,"fileName"],[133,14,97,15],[133,16,97,15,"_jsxFileName"],[133,28,97,15],[134,6,97,15,"lineNumber"],[134,16,97,15],[135,6,97,15,"columnNumber"],[135,18,97,15],[136,4,97,15],[136,11,98,26],[136,12,98,27],[137,2,100,0],[137,3,100,1],[138,2,100,2,"_s"],[138,4,100,2],[138,5,16,13,"AuthProvider"],[138,17,16,66],[139,2,16,66,"_c"],[139,4,16,66],[139,7,16,13,"AuthProvider"],[139,19,16,66],[140,2,102,7],[140,8,102,13,"useAuth"],[140,15,102,20],[140,18,102,23,"useAuth"],[140,19,102,23],[140,24,102,29],[141,4,102,29,"_s2"],[141,7,102,29],[142,4,103,2],[142,10,103,8,"context"],[142,17,103,15],[142,20,103,18],[142,24,103,18,"useContext"],[142,30,103,28],[142,31,103,28,"useContext"],[142,41,103,28],[142,43,103,29,"AuthContext"],[142,54,103,40],[142,55,103,41],[143,4,104,2],[143,8,104,6],[143,9,104,7,"context"],[143,16,104,14],[143,18,104,16],[144,6,105,4],[144,12,105,10],[144,16,105,14,"Error"],[144,21,105,19],[144,22,105,20],[144,67,105,65],[144,68,105,66],[145,4,106,2],[146,4,107,2],[146,11,107,9,"context"],[146,18,107,16],[147,2,108,0],[147,3,108,1],[148,2,108,2,"_s2"],[148,5,108,2],[148,6,102,13,"useAuth"],[148,13,102,20],[149,2,102,20],[149,6,102,20,"_c"],[149,8,102,20],[150,2,102,20,"$RefreshReg$"],[150,14,102,20],[150,15,102,20,"_c"],[150,17,102,20],[151,0,102,20],[151,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","supabase.auth.getSession.then$argument_0","supabase.auth.onAuthStateChange$argument_0","<anonymous>","signIn","signUp","signOut","useAuth"],"mappings":"AAA;qECe;YCK;oCCE;KDI;uEEG;KFG;WGE,gCH;GDC;iBKE;GLG;iBME;GN6C;kBOE;GPG;CDO;uBSE;CTM"},"hasCjsExports":false},"type":"js/module"}]}